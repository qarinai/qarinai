<p-toolbar styleClass="mb-6">
  <ng-template #start>
    <p-button
      label="Add"
      icon="pi pi-plus"
      severity="primary"
      class="mr-2"
      (onClick)="onAddLlmProviderClick()"
    ></p-button>
  </ng-template>
</p-toolbar>

<p-table
  #dt
  [value]="llmProviders()"
  [loading]="isLoading()"
  [columns]="[]"
  [paginator]="false"
  [rowHover]="true"
  [dataKey]="'id'"
>
  <ng-template #caption>
    <div class="flex items-center justify-between">
      <h5 class="m-0">Manage LLM Providers</h5>
    </div>
  </ng-template>

  <ng-template #header>
    <tr>
      <th>Name</th>
      <th>API Base URL</th>
      <th>Models</th>
      <th>Actions</th>
    </tr>
  </ng-template>

  <ng-template #body let-provider>
    <tr>
      <td>{{ provider.name }}</td>
      <td>{{ provider.apiBaseUrl }}</td>
      <td>
        <div class="flex flex-wrap items-center gap-1">
          @for (model of provider.models.slice(0, 3); track model.name) {
            <p-tag [value]="model.name" class="mr-1"></p-tag>
          }
          @if (provider.models.length > 3) {
            <span class="text-xs font-medium text-primary-300 bg-primary-500/15 px-2 py-1 rounded-md">
              +{{ provider.models.length - 3 }} more
            </span>
          }
        </div>
      </td>
      <td>
        <p-button icon="pi pi-pencil" outlined class="mr-2"></p-button>
        <p-button icon="pi pi-trash" outlined severity="danger"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
